{"ast":null,"code":"import React,{useState,useContext}from'react';import{Link}from'react-router-dom';import{useNavigate}from'react-router-dom';import UserContext from'../../../context/UserContext';import\"./Login.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[enteredUsername,setEnteredUsername]=useState(\"\");const[enteredPassword,setEnteredPassword]=useState(\"\");const{username,setUsername}=useContext(UserContext);// Access username and setUsername from context\nconst navigate=useNavigate();const handleButtonClick=async()=>{try{console.log(\"enteredPassword\",enteredPassword);const response=await fetch(\"http://localhost:5000/api/users/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:enteredUsername,password:enteredPassword})});console.log(\"printed\");const responseJSON=await response.json();if(responseJSON.success===true){console.log(\"enteredUsername is \",enteredUsername);setUsername(enteredUsername);console.log(\"username is now \",username);navigate(\"/\");}else{console.log(\"login failed\");}// const response = await fetch(\"http://localhost:5000/api/users/\", {\n//     method: \"GET\",\n//     headers: { \"Content-Type\": \"application/json\" },\n//     body: JSON.stringify({\n//     })\n// });\n// const responseJSON = await response.json();\n// if (responseJSON.success === true) {\n//     console.log(\"enteredUsername is \", enteredUsername);\n//     setUsername(enteredUsername);\n//     console.log(\"username is now \", username);\n//     navigate(\"/homepage\");\n// } else {\n//     console.log(\"login failed\");\n// }\n}catch(error){console.error(\"Error during login:\",error);}};const changeEnteredUsername=event=>{setEnteredUsername(event.target.value);};const changeEnteredPassword=event=>{setEnteredPassword(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{id:\"login-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:enteredUsername,placeholder:\"Username\",onChange:changeEnteredUsername}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"password\",value:enteredPassword,placeholder:\"Password\",onChange:changeEnteredPassword}),/*#__PURE__*/_jsx(\"button\",{id:\"login-button\",onClick:handleButtonClick,children:\"Login\"}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register here\"})]});}export default Login;","map":{"version":3,"names":["React","useState","useContext","Link","useNavigate","UserContext","jsx","_jsx","jsxs","_jsxs","Login","enteredUsername","setEnteredUsername","enteredPassword","setEnteredPassword","username","setUsername","navigate","handleButtonClick","console","log","response","fetch","method","headers","body","JSON","stringify","password","responseJSON","json","success","error","changeEnteredUsername","event","target","value","changeEnteredPassword","id","children","type","placeholder","onChange","onClick","to"],"sources":["C:/Users/frank/Desktop/3. Projects/1. Personal Projects/Boxing Website Stuff/Boxing Forum Website/client/src/components/UserAuthentification/Login/Login.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport UserContext from '../../../context/UserContext';\r\nimport \"./Login.css\";\r\n\r\nfunction Login() {\r\n\r\n    const [enteredUsername, setEnteredUsername] = useState(\"\");\r\n    const [enteredPassword, setEnteredPassword] = useState(\"\");\r\n    const { username, setUsername } = useContext(UserContext); // Access username and setUsername from context\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleButtonClick = async () => {\r\n\r\n        try {\r\n\r\n            console.log(\"enteredPassword\", enteredPassword);\r\n            const response = await fetch(\"http://localhost:5000/api/users/login\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({\r\n                    username : enteredUsername,\r\n                    password : enteredPassword,\r\n                })\r\n            });\r\n\r\n            console.log(\"printed\");\r\n            const responseJSON = await response.json();\r\n\r\n            if (responseJSON.success === true) {\r\n\r\n                console.log(\"enteredUsername is \", enteredUsername);\r\n                setUsername(enteredUsername);\r\n\r\n                console.log(\"username is now \", username);\r\n                navigate(\"/\");\r\n            } else {\r\n                console.log(\"login failed\");\r\n            }\r\n\r\n            // const response = await fetch(\"http://localhost:5000/api/users/\", {\r\n            //     method: \"GET\",\r\n            //     headers: { \"Content-Type\": \"application/json\" },\r\n            //     body: JSON.stringify({\r\n                    \r\n            //     })\r\n            // });\r\n\r\n            // const responseJSON = await response.json();\r\n\r\n            // if (responseJSON.success === true) {\r\n\r\n            //     console.log(\"enteredUsername is \", enteredUsername);\r\n            //     setUsername(enteredUsername);\r\n\r\n            //     console.log(\"username is now \", username);\r\n            //     navigate(\"/homepage\");\r\n            // } else {\r\n            //     console.log(\"login failed\");\r\n            // }\r\n        } catch (error) {\r\n            console.error(\"Error during login:\", error);\r\n        }\r\n    };\r\n\r\n\r\n    const changeEnteredUsername = (event) => {\r\n        setEnteredUsername(event.target.value);\r\n    };\r\n    const changeEnteredPassword = (event) => {\r\n        setEnteredPassword(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div id = \"login-container\">\r\n            <input type=\"text\" id=\"username\" value={enteredUsername} placeholder=\"Username\" onChange={changeEnteredUsername}></input>\r\n            <input type=\"text\" id=\"password\" value={enteredPassword} placeholder=\"Password\" onChange={changeEnteredPassword}></input>\r\n            <button id=\"login-button\" onClick={handleButtonClick}>Login</button>\r\n            <div></div>\r\n            <Link to=\"/register\">Register here</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,WAAW,KAAM,8BAA8B,CACtD,MAAO,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErB,QAAS,CAAAC,KAAKA,CAAA,CAAG,CAEb,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACY,eAAe,CAAEC,kBAAkB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAEc,QAAQ,CAAEC,WAAY,CAAC,CAAGd,UAAU,CAACG,WAAW,CAAC,CAAE;AAE3D,KAAM,CAAAY,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAc,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CAElC,GAAI,CAEAC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEP,eAAe,CAAC,CAC/C,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,uCAAuC,CAAE,CAClEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBZ,QAAQ,CAAGJ,eAAe,CAC1BiB,QAAQ,CAAGf,eACf,CAAC,CACL,CAAC,CAAC,CAEFM,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CACtB,KAAM,CAAAS,YAAY,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAE1C,GAAID,YAAY,CAACE,OAAO,GAAK,IAAI,CAAE,CAE/BZ,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAET,eAAe,CAAC,CACnDK,WAAW,CAACL,eAAe,CAAC,CAE5BQ,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEL,QAAQ,CAAC,CACzCE,QAAQ,CAAC,GAAG,CAAC,CACjB,CAAC,IAAM,CACHE,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC/B,CAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACJ,CAAE,MAAOY,KAAK,CAAE,CACZb,OAAO,CAACa,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC/C,CACJ,CAAC,CAGD,KAAM,CAAAC,qBAAqB,CAAIC,KAAK,EAAK,CACrCtB,kBAAkB,CAACsB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC1C,CAAC,CACD,KAAM,CAAAC,qBAAqB,CAAIH,KAAK,EAAK,CACrCpB,kBAAkB,CAACoB,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAC1C,CAAC,CAED,mBACI3B,KAAA,QAAK6B,EAAE,CAAG,iBAAiB,CAAAC,QAAA,eACvBhC,IAAA,UAAOiC,IAAI,CAAC,MAAM,CAACF,EAAE,CAAC,UAAU,CAACF,KAAK,CAAEzB,eAAgB,CAAC8B,WAAW,CAAC,UAAU,CAACC,QAAQ,CAAET,qBAAsB,CAAQ,CAAC,cACzH1B,IAAA,UAAOiC,IAAI,CAAC,MAAM,CAACF,EAAE,CAAC,UAAU,CAACF,KAAK,CAAEvB,eAAgB,CAAC4B,WAAW,CAAC,UAAU,CAACC,QAAQ,CAAEL,qBAAsB,CAAQ,CAAC,cACzH9B,IAAA,WAAQ+B,EAAE,CAAC,cAAc,CAACK,OAAO,CAAEzB,iBAAkB,CAAAqB,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpEhC,IAAA,SAAU,CAAC,cACXA,IAAA,CAACJ,IAAI,EAACyC,EAAE,CAAC,WAAW,CAAAL,QAAA,CAAC,eAAa,CAAM,CAAC,EACxC,CAAC,CAEd,CAEA,cAAe,CAAA7B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}